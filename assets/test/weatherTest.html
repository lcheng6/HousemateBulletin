<!DOCTYPE html>
 <html lang="en">
 
 <head>
   <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	
   <title>Washington DC Weather</title>
 </head>
 
 <body>
<!--<div class="container">


  <div class="jumbotron" >
    <div class="row">
        <div class="col-lg-2">
          </div>

             <div class="col-lg-8" id="header">
    
                   <h1>WEATHER</h1>
              </div>

            <div class="col-lg-2">
            </div>
      </div>

    </div>

  


  <div class="row">
    <div class="col-lg-12">
    <div class="panel panel-default">

      <div class="panel-heading">
              <h3 class="panel-title">Local Weather</h3>
            </div>

      <div class="panel-body">
        
      <table class="table">
        
      <tr id= "static-table-header">
        <th>City</th>
        <th>Wind Speed</th>
        <th>Humidity</th>
        <th>Temperature</th>
        <th>Description</th>
      
      </tr>

          </table>
        </div>
      </div>
    </div>
  </div>

  </div>-->






   <!-- Retrieved data will be dumped here -->
   <div class="city"></div>
   <div class="wind"></div>
   <div class="humidity"></div>
   <div class="temp"></div>
   <div class="description"></div>
   <div id="weatherIcon"></div>
   

   </div>

   <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
   <script type="text/javascript">
     // This is our API key
     var APIKey = "166a433c57516f51dfab1f7edaed8413";
 
     // Here we are building the URL we need to query the database
     var queryURL = "http://api.openweathermap.org/data/2.5/weather?" +
       "q=Washington,District+of+Columbia&units=imperial&appid=" + APIKey;
 
     // Here we run our AJAX call to the OpenWeatherMap API
     $.ajax({
         url: queryURL,
         method: "GET"
       })
       // We store all of the retrieved data inside of an object called "response"
       .done(function(response) {
 
         // Log the queryURL
         console.log(queryURL);
 
         // Log the resulting object
         console.log(response);
 
         // Transfer content to HTML
         $(".city").html("<h1>" + response.name + " Weather Details</h1>");
         $(".wind").html("Wind Speed: " + response.wind.speed);
         $(".humidity").html("Humidity: " + response.main.humidity);
         $(".temp").html("Temperature (F) " + response.main.temp);
         $(".description").html(response.weather[0].description);


        // var newRow = $('<tr>');
         //newRow.addClass("table-body-row"); 

         //var cityTd = $('<td>');
         //var windTd = $('<td>');
         //var humidityTd = $('<td>');
         //var tempTd = $('<td>');
         //var descriptionTd = $('<td>');
         //var iconTd = $('<td>');

        // cityTd.text(response.name);
        // windTd.text(response.wind.speed);
       //  humidityTd.text(response.main.humidity);
        // tempTd.text(response.main.temp);
        // descriptionTd.text(response.weather[0].description);
        
       

       //  newRow.append(cityTd);
        // newRow.append(windTd);
        // newRow.append(humidityTd);
        // newRow.append(tempTd);
        // newRow.append(descriptionTd);
        
       // $('.table').append(newRow);


          //var weatherImageRain = $("<img>");
            //      weatherImageRain.attr('src','images/Rain.png');
          //$("#weatherIcon").append(weatherImageRain);


          var weatherDescription;
          switch (true){
          
          case (response.weather[0].description.includes("rain")):
          var weatherImageRain = $("<img>");
          weatherImageRain.attr("src",'images/Rain.png');
          $("#weatherIcon").append(weatherImageRain);
          break;

          case(response.weather[0].description.includes("clouds")):
              var weatherImageRain = $("<img>");
              weatherImageRain.attr("src",'images/Cloud.png');
             $("#weatherIcon").append(weatherImageRain);
             break;

             case(response.weather[0].description.includes("drizzle")):
              var weatherImageRain = $("<img>");
              weatherImageRain.attr("src",'images/Light Rain.png');
             $("#weatherIcon").append(weatherImageRain);
             break;

           case(response.weather[0].description.includes("sun")):
            var weatherImageRain = $("<img>");
            weatherImageRain.attr("src",'images/Sun.png');
            $("#weatherIcon").append(weatherImageRain);
           break;

           default : console.log("Error");
                  }
 
         // Log the data in the console as well
         console.log("Wind Speed: " + response.wind.speed);
         console.log("Humidity: " + response.main.humidity);
         console.log("Temperature (F): " + response.main.temp);
         console.log(response.weather[0].description);
       });
   </script>
 </body>
 
 </html>